<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lecture Biblique – Jour 1</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 2rem;
      color: #333;
    }
    .container {
      background: #fff;
      border-radius: 10px;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #005b96;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1.5rem;
    }
    th, td {
      padding: 0.75rem;
      border-bottom: 1px solid #ddd;
      vertical-align: top;
    }
    th {
      background: #f9f9f9;
    }
    .progress {
      text-align: center;
      margin-top: 1rem;
      font-weight: bold;
      color: #005b96;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Lecture Biblique Chronologique – Jour 1</h1>
    <p style="text-align:center;">Passage : Genèse 1 à 3</p>
    <div class="progress" id="progressText">Progression : 0%</div>
    <table>
      <thead>
        <tr>
          <th>Lu ?</th>
          <th>Référence</th>
          <th>Texte</th>
        </tr>
      </thead>
      <tbody id="versesTable">
        <!-- Les versets seront insérés ici dynamiquement -->
      </tbody>
    </table>
  </div>

  <script>
    const verses = [
      ["Genèse 1:1", "Au commencement, Dieu créa les cieux et la terre."],
      ["Genèse 1:2", "La terre était informe et vide; il y avait des ténèbres à la surface de l’abîme."],
      ["Genèse 1:3", "Dieu dit: Que la lumière soit! Et la lumière fut."],
      ["Genèse 1:4", "Dieu vit que la lumière était bonne; et Dieu sépara la lumière d’avec les ténèbres."],
      ["Genèse 1:5", "Dieu appela la lumière jour, et il appela les ténèbres nuit."],
      ["Genèse 2:1", "Ainsi furent achevés les cieux et la terre, et toute leur armée."],
      ["Genèse 2:2", "Dieu acheva au septième jour son œuvre, et il se reposa au septième jour de toute son œuvre."],
      ["Genèse 2:3", "Dieu bénit le septième jour, et il le sanctifia."],
      ["Genèse 3:1", "Le serpent était le plus rusé de tous les animaux des champs."],
      ["Genèse 3:2", "La femme répondit au serpent: Nous mangeons du fruit des arbres du jardin."],
      ["Genèse 3:3", "Mais quant au fruit de l’arbre qui est au milieu du jardin, Dieu a dit: Vous n’en mangerez point."]
    ];

    const table = document.getElementById("versesTable");
    const progressText = document.getElementById("progressText");

    function updateProgress() {
      const checkboxes = document.querySelectorAll("input[type='checkbox']");
      const checked = Array.from(checkboxes).filter(c => c.checked).length;
      const total = checkboxes.length;
      const percent = Math.round((checked / total) * 100);
      progressText.textContent = `Progression : ${percent}%`;
    }

    verses.forEach(([ref, text], index) => {
      const tr = document.createElement("tr");
      const isChecked = localStorage.getItem(`verse-${index}`) === "1";

      const tdCheck = document.createElement("td");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = isChecked;
      checkbox.addEventListener("change", () => {
        localStorage.setItem(`verse-${index}`, checkbox.checked ? "1" : "0");
        updateProgress();
      });
      tdCheck.appendChild(checkbox);

      const tdRef = document.createElement("td");
      tdRef.textContent = ref;

      const tdText = document.createElement("td");
      tdText.textContent = text;

      tr.appendChild(tdCheck);
      tr.appendChild(tdRef);
      tr.appendChild(tdText);
      table.appendChild(tr);
    });

    updateProgress();
  </script>
</body>
</html>
